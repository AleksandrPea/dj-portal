{"version":3,"sources":["app-creator/widget.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,kBAAkB,UAAU,KAAK,EAAE,OAAO,OAAO,IAAI,aAAa,IAAI,aAAa;;AAEvF,IAJO,UAAO,gBAAA,QAAM;;AAEpB,IAAM,gBAAgB,QAAQ,OAAO,2BAA2B;;AAEhE,cAAc,WAAW,4HAAwB,UAAU,QAAQ,OAAO,YACf,cACA,UACA,SAAS,QAAQ,OAAO,MAAM;EACvF,IAAM,aAAa,IAAI,aAAa;;EAEpC,QAAQ,OAAO,QAAQ;IACrB,OAAO;MACL,YAAY;MACZ,UAAU;;IAEZ,OAAO;IACP,WAAS,SAAA,YAAG;MACV,IAAM,MAAM;QACV,MAAM,KAAK,MAAM;QACjB,MAAM,KAAK,MAAM;QACjB,OAAO;;;MAGT,MAAM,IAAI,QAAQ,IAAI,UAAU,IAAI,MAAM,IAAI,OAC3C,QAAQ,UAAA,MAAQ;QACf,IAAI,KAAK,KAAK;QACd,WAAW,KAAK,mBAAmB;SAEpC,MAAM,UAAC,MAAM,OAAU;QACtB,MAAM,MAAM,WAAW,QAAQ,yCAAyC,EAAC,MAAA,MAAM,OAAA;;;;IAItF","file":"app-creator/widget.js","sourcesContent":["import angular from 'angular';\r\n\r\nconst appListWidget = angular.module('app.widgets.app-creator', []);\r\n\r\nappListWidget.controller('AppCreatorController', function ($scope, $http, $translate,\r\n                                                           EventEmitter,\r\n                                                           appSkins,\r\n                                                           appUrls, prompt, alert, user) {\r\n  const evtEmitter = new EventEmitter($scope);\r\n\r\n  angular.extend($scope, {\r\n    model: {\r\n      newAppName: \"\",\r\n      skinName: \"default\"\r\n    },\r\n    skins: appSkins,\r\n    createApp() {\r\n      const app = {\r\n        name: this.model.newAppName,\r\n        skin: this.model.skinName,\r\n        owner: user\r\n      };\r\n\r\n      $http.get(appUrls.api.createApp(app.name, app.skin))\r\n        .success(data => {\r\n          app.id = data.id;\r\n          evtEmitter.emit('new-app-created', app);\r\n        })\r\n        .error((data, error) => {\r\n          alert.error($translate.instant('WIDGET.APP-CREATOR.ERROR_CREATING_APP', {data, error}));\r\n        });\r\n    }\r\n  });\r\n});\r\n"],"sourceRoot":"/source/"}