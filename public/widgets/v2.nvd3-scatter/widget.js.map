{"version":3,"sources":["v2.nvd3-scatter/widget.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,kBAAkB,UAAU,KAAK,EAAE,OAAO,OAAO,IAAI,aAAa,IAAI,aAAa;;AAEvF,IAJO,UAAO,gBAAA,QAAM;;AAMpB,QALO;;AAOP,QANO;;AAQP,QAPO;;AAGP,IAAM,IAAI,QAAQ,OAAO,+BAA+B,CACtD,8BACA,uCACA;;AAIF,EAAE,WAAW,iGAA0B,UAAU,QAAQ,cAAc,oBAAoB,oBAAoB;;EAE7G,IAAI,aACA,QACE;IACE,QAAQ;IACR,mBAAmB;IACnB,YAAY;IACZ,WAAW;IACX,YAAa,SAAA,WAAS,SAAQ;MAC1B,OAAO,QAAQ,OAAO;;IAE1B,cAAc;MACV,MAAM,SAAA,KAAU,GAAG;QACjB,OAAO,EAAE;;MAEX,MAAM,SAAA,KAAU,GAAG;QACjB,OAAO,EAAE;;;MAGX,UAAS,SAAA,SAAS,GAAE;QAAC,OAAO,EAAE;;;MAE9B,gBAAgB,SAAA,eAAU,OAAO,GAAG,GAAG,GAAG;;QAExC,OAAO,gBAAgB,EAAE,MAAM,QAAQ,kBACnC,yDAAuD,EAAE,OAAO,OAAO,OAAO,IAAI,WAClF,yDAAuD,QAAQ,OAAO,IAAI;;;MAGhF,iBAAiB,SAAA,gBAAU,OAAO,GAAG,GAAG,GAAG;;QAEzC,OAAO,QAAQ,EAAE,OAAO,OAAO,WAAW;;MAE5C,iBAAiB,SAAA,gBAAU,OAAO,GAAG,GAAG,GAAG;;QAEzC,OAAO,QAAQ,QAAQ,WAAW;;;MAGtC,oBAAoB,SAAA,mBAAS,MAAK;QAChC,OAAO,KAAK,IAAI,UAAC,GAAM;UAAC,OAAO,EAAC,KAAI,EAAE,KAAK,UAAS;;;;MAGtD,qBAAqB,SAAA,oBAAS,MAAK;QACjC,IAAI,IAAI;QACR,KAAK,QAAQ,UAAS,GAAE;UACtB,EAAE,OAAO,QAAQ,UAAS,GAAE;YAC1B,EAAE,KAAK,EAAC,KAAI,EAAE,OAAO,UAAS;;;;QAIlC,IAAI,SAAS;QACb,EAAE,QAAQ,UAAS,MAAK;UACpB,IAAI,YAAY;UAChB,OAAO,QAAQ,UAAS,GAAE;YACpB,aAAa,KAAK,OAAO,EAAE;;UAEjC,IAAG,aAAa,MAAM,OAAO,KAAK;;QAEtC,OAAO;;;;IAKlB","file":"v2.nvd3-scatter/widget.js","sourcesContent":["import angular from 'angular';\r\nimport 'widgets/v2.nvd3-widget/nvd3-widget';\r\nimport 'widgets/v2.nvd3-scatter/wizard';\r\nimport 'widgets/v2.nvd3-scatter/adapter';\r\n\r\n\r\nconst m = angular.module('app.widgets.v2.nvd3-scatter', [\r\n  'app.widgets.v2.nvd3-widget',\r\n  'app.widgets.v2.scatter-chart-wizard',\r\n  'app.widgets.v2.scatter-chart-adapter'\r\n]);\r\n\r\n\r\nm.controller('Nvd3ScatterChartCtrlV2', function ($scope, NVD3WidgetV2, ScatterChartWizard, NVD3ScatterAdapter) {\r\n \r\n  new NVD3WidgetV2(\r\n      $scope, \r\n        {\r\n          wizard: ScatterChartWizard,\r\n          decorationAdapter: NVD3ScatterAdapter,\r\n          optionsURL: \"/widgets/v2.nvd3-scatter/options.json\",\r\n          sampleURL: \"/widgets/v2.nvd3-scatter/sample.json\",\r\n          acceptData : function(context){\r\n              return context.key == \"scatter\"\r\n          },\r\n          serieAdapter: {\r\n              getX: function (d) {\r\n                return d.x\r\n              },\r\n              getY: function (d) {\r\n                return d.y\r\n              },\r\n              \r\n              getLabel:function(d){return d.label},\r\n\r\n              tooltipContent: function (serie, x, y, s) {\r\n                //console.log(serie,x,y,s)\r\n                return \"<b><center>\" + s.point.label + \"</center></b>\"\r\n                  + '<div style=\"font-size:smaller;padding: 0 0.5em;\"> ' + s.series.base + \": \" + x + \"</div>\"\r\n                  + '<div style=\"font-size:smaller;padding: 0 0.5em;\"> ' + serie + \": \" + y + \"</div>\";\r\n              },\r\n\r\n              tooltipXContent: function (serie, x, y, s) {\r\n                //console.log(\"X\",serie,x,y,s)\r\n                return \"<b>\" + s.series.base + \": </b>\" + x\r\n              },\r\n              tooltipYContent: function (serie, x, y, s) {\r\n                //console.log(\"X\",serie,x,y,s)\r\n                return \"<b>\" + serie + \": </b>\" + y\r\n              },\r\n            \r\n            getSeriesSelection: function(data){\r\n              return data.map((s) => {return {key:s.key, disabled:false}})\r\n            },\r\n\r\n            getObjectsSelection: function(data){\r\n              let r = []\r\n              data.forEach(function(s){\r\n                s.values.forEach(function(v){\r\n                  r.push({key:v.label, disabled:true})\r\n                })\r\n              })\r\n\r\n              let result = [];\r\n              r.forEach(function(item){\r\n                  var notExists = true;\r\n                  result.forEach(function(v){\r\n                        notExists &= item.key != v.key;\r\n                  })\r\n                  if(notExists == true) result.push(item)\r\n              });\r\n              return result;\r\n            }\r\n          }\r\n        }\r\n  );\r\n});\r\n"],"sourceRoot":"/source/"}