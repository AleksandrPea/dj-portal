{"version":3,"sources":["wizard/wizard.js"],"names":[],"mappings":"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","file":"wizard/wizard.js","sourcesContent":["import angular from 'angular';\r\nimport 'angular-oclazyload';\r\n\r\nvar m = angular.module(\"app.widgets.wizard\",['oc.lazyLoad']);\r\n\r\nm.factory(\"Wizard\",[\"$ocLazyLoad\", function($ocLazyLoad){\r\n\t\r\n\t$ocLazyLoad.load({\r\n      files: [\"./widgets/wizard/styles.css\"]\r\n    });\r\n\t\r\n\tvar Wizard = function(modalInstance){\r\n\t\tthis.steps = [];\r\n\t\tthis.context = {};\r\n\t\tthis.currentStepIndex;\r\n\t\tthis.modalInstance = modalInstance;\r\n\t\tthis.title = \"Settings Wizard\"\r\n\t}\r\n\r\n\tWizard.prototype = {\r\n\t\t\r\n\t\tgetAboveIndexes : function(step){\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i=step.index+1; i < this.steps.length; i++){\r\n\t\t\t\tresult.push(i);\r\n\t\t\t}\r\n\t\t\treturn result;\t\r\n\t\t},\r\n\r\n\t\tgetBelowIndexes : function(step){\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i=step.index-1; i >= 0 ; i--){\r\n\t\t\t\tresult.push(i);\r\n\t\t\t}\r\n\t\t\treturn result;\t\r\n\t\t},\r\n\r\n\t\tgetWithoutIndexes : function(step){\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i=0; i < this.steps.length ; i++){\r\n\t\t\t\tif ( i!= step.index ) result.push(i);\r\n\t\t\t}\r\n\t\t\treturn result;\t\r\n\t\t},\r\n\r\n\t\tgetSteps : function(callback){\r\n\t\t\treturn this.steps.filter((item) => callback(item))\r\n\t\t},\r\n\r\n\t\tsetContext : function(context){\r\n\t\t\tthis.context = context;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetTitle : function(title){\r\n\t\t\tthis.title = title;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetIcon : function(icon){\r\n\t\t\tthis.icon = icon;\r\n\t\t\treturn this;\r\n\t\t},  \r\n\t\t\r\n\t\tpush : function (step){\r\n\t\t\tstep.enabled = true;\r\n\t\t\tstep.active = false;\r\n\t\t\tstep.index = this.steps.length;\r\n\t\t\tstep.activationCount = 0; \r\n\t\t\tthis.steps.push(step);\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tcomplete : function(step){\r\n\t\t\t// console.log(\"W complete\", step)\r\n\t\t\tif ( this.onCompleteStepCallback ) this.onCompleteStepCallback(this,step);\r\n\t\t},\r\n\r\n\t\tprocess : function(step){\r\n\t\t\tif ( this.onProcessStepCallback ) this.onProcessStepCallback(this,step);\r\n\t\t},\r\n\r\n\t\tenable : function(stepIndexes){\r\n\t\t\tvar thos = this;\r\n\t\t\tif(angular.isUndefined(stepIndexes)) return;\r\n\t\t\tstepIndexes = (angular.isUndefined(stepIndexes.length)) ? [stepIndexes] : stepIndexes;\r\n\t\t\tstepIndexes.forEach(function(currentStepIndex){\r\n\t\t\t\tif (thos.steps[currentStepIndex]){\r\n\t\t\t\t\tthos.steps[currentStepIndex].enabled = true;\r\n\t\t\t\t\tif( thos.steps[currentStepIndex].enable ) \r\n\t\t\t\t\tthos.steps[currentStepIndex].enable(thos);\r\n\t\t\t\t}\r\n\t\t\t});\t \t\t\t\r\n\t\t},\r\n\r\n\t\tdisable : function(stepIndexes){\r\n\t\t\tvar thos = this;\r\n\t\t\tif(angular.isUndefined(stepIndexes)) return;\r\n\t\t\tstepIndexes = (angular.isUndefined(stepIndexes.length)) ? [stepIndexes] : stepIndexes;\r\n\t\t\tstepIndexes.forEach(function(currentStepIndex){\r\n\t\t\t\tif (thos.steps[currentStepIndex]){\r\n\t\t\t\t\tthos.steps[currentStepIndex].enabled = false;\r\n\t\t\t\t\tif( thos.steps[currentStepIndex].disable ) \r\n\t\t\t\t\tthos.steps[currentStepIndex].disable(thos);\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t},\r\n\r\n\t\tactivate : function(stepIndex){\r\n\t\t\tif \t( \tthis.steps[stepIndex] \r\n\t\t\t\t&& \tthis.steps[stepIndex].enabled\r\n\t\t\t\t// && \tthis.steps[stepIndex].activate\r\n\t\t\t\t&&  this.currentStepIndex != stepIndex){ \r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( angular.isDefined(this.currentStepIndex) ) \r\n\t\t\t\t\t\tthis.steps[this.currentStepIndex].active = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.currentStepIndex = stepIndex;\r\n\t\t\t\t\tthis.steps[stepIndex].active = true;\r\n\t\t\t\t\tthis.steps[stepIndex].activationCount++;\r\n\t\t\t\t\tif (this.steps[stepIndex].activate) this.steps[stepIndex].activate(this);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnext : function(){\r\n\t\t\tif(this.steps.length > this.currentStepIndex)\r\n\t\t\t\tthis.activate(this.currentStepIndex+1);\r\n\t\t},\r\n\r\n\t\tprev : function(){\r\n\t\t\tif(0 < this.currentStepIndex)\r\n\t\t\t\tthis.activate(this.currentStepIndex-1);\r\n\t\t},\r\n\r\n\t\tonStart : function(onStartCallback){\r\n\t\t\tthis.onStartCallback = onStartCallback;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tonCompleteStep : function(onCompleteStepCallback){\r\n\t\t\tthis.onCompleteStepCallback = onCompleteStepCallback;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tonProcessStep : function(onProcessStepCallback){\r\n\t\t\tthis.onProcessStepCallback = onProcessStepCallback;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tonFinish : function(onFinishCallback){\r\n\t\t\tthis.onFinishCallback = onFinishCallback;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tonCancel :  function(onCancelCallback){\r\n\t\t\tthis.onCancelCallback = onCancelCallback;\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tstart : function(parentScope){\r\n\t\t\tvar thos = this;\r\n\t\t\tthis.parentScope = parentScope;\r\n\t\t\tparentScope.wizard = this;\r\n\r\n\t\t\tif ( this.onStartCallback ) this.onStartCallback(this);\r\n\t\t\t\r\n\t\t\tthis.steps.forEach(function (step){\r\n\t\t\t\tif (step.onStartWizard) step.onStartWizard(thos);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.activate(0);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar s = this.parentScope;\r\n\t        \r\n\t        return this.modalInstance.open({\r\n\t          templateUrl: 'widgets/wizard/wizard.html',\r\n\t          controller: 'WizardController',\r\n\t          backdrop: 'static',\r\n\t          resolve: {\r\n\t            widgetScope: function () {\r\n\t              \t\treturn s;\r\n\t            \t}\r\n\t          \t}\r\n\t         }).result\r\n\t        // .result.then(function (newWidgetConfig) {});\r\n\t\t},\r\n\r\n\t\tfinish : function(){\r\n\t\t\tvar thos = this;\r\n\t\t\tthis.steps.forEach(function (step){\r\n\t\t\t\tif (step.onFinishWizard) step.onFinishWizard(thos);\r\n\t\t\t});\r\n\t\t\tif ( this.onFinishCallback ) this.onFinishCallback(this);\r\n\t\t},\r\n\r\n\t\tcancel : function(){\r\n\t\t\tvar thos = this;\r\n\t\t\tthis.steps.forEach(function (step){\r\n\t\t\t\tif (step.onCancelWizard) step.onCancelWizard(thos);\r\n\t\t\t});\r\n\t\t\tif ( this.onCancelCallback ) this.onCancelCallback(this);\r\n\t\t}\r\n\r\n\t}\r\n\treturn Wizard;\r\n}]);\r\n\r\n\r\nm.controller('WizardController', function ($scope, $modalInstance, widgetScope) {\r\n  $scope.wizard = widgetScope.wizard;\r\n\r\n  $scope.finish = function () {\r\n  \t$scope.wizard.finish();\r\n    $modalInstance.close();\r\n  };\r\n\r\n  $scope.cancel = function () {\r\n  \t$scope.wizard.cancel();\r\n    $modalInstance.dismiss();\r\n  };\r\n });"],"sourceRoot":"/source/"}