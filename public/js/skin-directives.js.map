{"version":3,"sources":["skin-directives.js"],"names":[],"mappings":"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","file":"skin-directives.js","sourcesContent":["import angular from 'angular';\r\n\r\n// console.log(\"ace\",ace)\r\nvar highlight = ace.require(\"ace/ext/static_highlight\")\r\n// console.log(\"highlight\",highlight)\r\n// \r\n// \r\nconst skin = angular.module('app.skinDirectives', []);\r\n\r\nskin.directive('designPanel', () => {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/partials/design-panel.html',\r\n        require: '^MainController'\r\n    }\r\n});\r\n\r\nskin.directive('applicationView', () => {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/partials/application-view.html',\r\n        transclude: true\r\n    }\r\n});\r\n\r\nskin.directive('pageListNav', () => {\r\n    return {\r\n        restrict: 'E',\r\n        template: `<widget type=\"page-list\" instanceName=\"page-list-nav\" skin=\"true\"></widget>`\r\n    }\r\n});\r\n\r\nskin.directive('languageSelectorNav', () => {\r\n    return {\r\n        restrict: 'E',\r\n        template: `<widget type=\"language-selector\" instanceName=\"language-selector\" skin=\"true\"></widget>`\r\n    }\r\n});\r\n\r\nskin.directive('appLogo', () => {\r\n    return {\r\n        restrict: 'E',\r\n        template: `<widget type=\"app-logo\" instanceName=\"app-logo-widget\" skin=\"true\"></widget>`\r\n    }\r\n});\r\n\r\nskin.directive('logoutButton', () => {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/partials/logout-button.html'\r\n    }\r\n});\r\n\r\nskin.directive('loginGoogleButton', () => {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/partials/login-google-button.html'\r\n    }\r\n});\r\n\r\nskin.directive('prettyDps', function() {\r\n    // console.log(\"prettyDps\")\r\n    var isDefined = angular.isDefined;\r\n    var lookups = {\r\n        comment: {\r\n            re: /\\/\\/.*|\\/\\*[\\w\\W\\b\\.\\t\\:\\,;\\'\\\"\\(\\)\\{\\}\\[\\]\\*0-9-_]*(?:\\*\\/)/gim\r\n        },\r\n        command: {\r\n            re: /[a-zA-Z]+[a-zA-Z0-9_]*[\\t ]*\\(/gim\r\n        },\r\n        property: {\r\n            re: /[a-zA-Z]+[a-zA-Z0-9_]*[\\t ]*:/gim\r\n        },\r\n        textValue: {\r\n            re: /\"[\\w\\d_\\-'\\?\\$\\(\\)\\=\\#\\@\\/\\[\\]\\%\\^\\.\\>\\<\\}\\{\\s\\,}]*\"|'[\\w\\d_\\-\"\\?\\$\\(\\)\\=\\#\\@\\/\\[\\]\\%\\^\\.\\>\\<\\}\\{\\s\\,]*'/gim\r\n        },\r\n        numberValue: {\r\n            re: /[-]*[0-9]+[0-9\\.]*/gim\r\n        },\r\n        delimiter: {\r\n            re: /[\\(\\)\\{\\}\\:\\:\\;\\,\\[\\]]/gim\r\n        },\r\n        injection:{\r\n          re: /(\\<\\%([^%]|(\\%+[^%\\>]))*\\%\\>)/g,\r\n        },\r\n        snippet: {\r\n            re: /<[0-9]+>/gim\r\n        },\r\n        lt: {\r\n            re: /\\</gim\r\n        },\r\n        gt: {\r\n            re: /\\>/gim\r\n        }\r\n    }\r\n\r\n    var markup = function(str) {\r\n        if (!str || str == '') return str;\r\n        var snippets = []\r\n        var s = str\r\n           \r\n            .replace(lookups.injection.re, function(match, index) {\r\n                snippets.push('<span class=\"injection\">' + \r\n                    match.replace(lookups.lt.re, \"&lt;\")\r\n                         .replace(lookups.gt.re, \"&gt;\") + '</span>');\r\n                return '<' + (snippets.length - 1) + '>'\r\n            })\r\n\r\n            .replace(lookups.comment.re, function(match, index) {\r\n                snippets.push('<span class=\"comment\">' + match + '</span>');\r\n                return '<' + (snippets.length - 1) + '>'\r\n            })\r\n            \r\n            .replace(lookups.command.re, function(match, index) {\r\n                snippets.push('<span class=\"command\">' + match.substring(0, match.length - 1) + '</span>');\r\n                return '<' + (snippets.length - 1) + '>('\r\n            })\r\n            .replace(lookups.property.re, function(match, index) {\r\n                snippets.push('<span class=\"property\">' + match.substring(0, match.length - 1) + '</span>');\r\n                return '<' + (snippets.length - 1) + '>:'\r\n            })\r\n            .replace(lookups.textValue.re, function(match, index) {\r\n                snippets.push('<span class=\"textValue\">' + match + '</span>');\r\n                return '<' + (snippets.length - 1) + '>'\r\n            })\r\n        \r\n            \r\n        while (s.match(lookups.snippet.re)) {\r\n            s = s.replace(lookups.snippet.re, function(match) {\r\n                return snippets[new Number(match.substring(1, match.length - 1))]\r\n                         \r\n            })\r\n        }\r\n\r\n        return s\r\n    }\r\n\r\n    return {\r\n        restrict: 'AE',\r\n\r\n        scope: {\r\n            script: '=',\r\n            prettyDps: '='\r\n        },\r\n\r\n        template: '<pre class=\"prettify-dps\"></pre>',\r\n\r\n        replace: true,\r\n\r\n        link: function(scope, elm, attrs) {\r\n            var exp = isDefined(attrs.script) ? attrs.script : '';\r\n            scope.$watch(exp, function(newValue, oldValue) {\r\n                elm.html(markup(newValue))\r\n            }, true);\r\n        }\r\n\r\n    };\r\n})\r\n\r\nskin.directive('highlight', function() {\r\n\r\n    \r\n    \r\n    return {\r\n        restrict: 'AE',\r\n        template: '<div class=\"highlighter\"></div>',\r\n\r\n        replace: true,\r\n\r\n        scope: {\r\n            settings: '=?'\r\n        },\r\n\r\n        link: function(scope, elm, attrs) {\r\n           \r\n            var render = function(scope){\r\n                var mode = ace.require(\"ace/mode/\"+scope.settings.options.mode);\r\n                mode = (mode)? mode.Mode : mode;  \r\n                var theme = ace.require(\"ace/theme/\"+scope.settings.options.theme);\r\n                \r\n                if(!mode){\r\n                    console.error(\"Highlighter mode: \"+scope.settings.options.mode+\" not supported\")\r\n                    return\r\n                }\r\n                \r\n                if(!theme){\r\n                    console.error(\"Highlighter theme: \"+scope.settings.options.theme+\" not supported\")\r\n                }\r\n\r\n\r\n                var highlighted = highlight.renderSync(\r\n                        scope.settings.data,\r\n                        new mode(),\r\n                        theme\r\n                );\r\n                \r\n\r\n                ace.require(\"ace/lib/dom\").importCssString(\r\n                    highlighted.css\r\n                        .replace(\"font-size: 12px;\",\"\")\r\n                        .replace(\r\n                            \".ace_static_highlight .ace_gutter-cell:before {\",\r\n                            \".ace_static_highlight .ace_gutter-cell:before { font-size: xx-small; padding-right: 0.5em; \"\r\n                        ),\r\n                    \"ace_highlight\"\r\n                );     \r\n                \r\n                elm.html(highlighted.html)\r\n                \r\n            }\r\n\r\n            scope.$watch(\"settings\", function() {\r\n                render(scope)\r\n            }, true);\r\n\r\n            \r\n        }\r\n\r\n    };\r\n})\r\n"],"sourceRoot":"/source/"}