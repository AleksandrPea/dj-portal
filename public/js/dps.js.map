{"version":3,"sources":["dps.js"],"names":[],"mappings":";;;;IAAO,OAAO,2BAAM,SAAS;;QACtB,oBAAoB;;AAE3B,IAAM,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,YAAY,EAAC,aAAa,CAAC,CAAC,CAAC;;AAEpE,GAAG,CAAC,GAAG,CAAE,UAAS,MAAM,EAAE,SAAS,EAAC;AAClC,OAAM,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,IAAI,SAAS,CAAC,QAAQ,EAAE,GAAC,KAAK,GAAC,SAAS,CAAC,IAAI,EAAE,GAAC,GAAG,GAAC,SAAS,CAAC,IAAI,EAAE,CAAC;;AAE5F,QAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;CACvD,CAAC,CAAA;;AAEF,GAAG,CAAC,OAAO,CAAC,MAAM,EAEd,UAAS,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAC;AAC/C,KAAI,MAAM,GAAG,MAAM,CAAC,GAAG,IAAI,SAAS,CAAC,QAAQ,EAAE,GAAC,KAAK,GAAC,SAAS,CAAC,IAAI,EAAE,GAAC,GAAG,GAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAClG,QAAO,CAAC,MAAM,CAAC,IAAI,EAClB;AACC,KAAG,EAAG,aAAS,GAAG,EAAC,MAAM,EAAC;;;;;;;;AAQzB,UAAO,KAAK,CAAC,GAAG,CAAC,MAAM,GAAC,GAAG,EAAC,MAAM,CAAC,CAAA;GACnC;;AAED,MAAI,EAAG,cAAU,GAAG,EAAC,MAAM,EAAC;AAC3B,UAAO,KAAK,CAAC,IAAI,CAAC,MAAM,GAAC,GAAG,EAAE,MAAM,CAAC,CAAA;GACrC;;AAED,cAAY,EAAE,sBAAS,IAAI,EAAC,IAAI,EAAC;AAChC,OAAI,WAAW,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAC,EAAC,IAAI,EAAC,gCAAgC,EAAC,CAAC,CAAA;AACvF,YAAS,CAAC,MAAM,CAAC,WAAW,EAAC,IAAI,CAAC,CAAC;GACtC;AACD,iBAAe,EAAE,yBAAS,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC;AACxC,OAAI,WAAW,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAC,EAAC,IAAI,EAAC,IAAI,EAAC,CAAC,CAAA;AAC3C,YAAS,CAAC,MAAM,CAAC,WAAW,EAAC,IAAI,CAAC,CAAC;GACtC;;AAED,QAAM,EAAE,kBAAU;AACjB,UAAO,MAAM,CAAA;GACb;EACD,CACD,CAAA;CACF,CAAC,CAAC","file":"dps.js","sourcesContent":["import angular from 'angular';\r\nimport \"angular-file-saver\";\r\n\r\nconst dps = angular.module('app.dps', ['app.config','ngFileSaver']);\r\n\r\ndps.run (function(config, $location){\r\n  config.dps = config.dps || $location.protocol()+'://'+$location.host()+\":\"+$location.port();\r\n\r\n  console.log(\"Data Processing Server URL\", config.dps);\r\n})\r\n\r\ndps.service('$dps',\r\n\r\n   \tfunction($http, config, $location, FileSaver, Blob){\r\n   \t    var dpsURL = config.dps || $location.protocol()+'://'+$location.host()+\":\"+$location.port();\r\n\t\tangular.extend(this,\r\n\t\t\t{\r\n\t\t\t\tget : function(url,config){\r\n\t\t\t\t\t// $http.jsonp(dpsURL+url+\"?callback=JSON_CALLBACK\",config)\r\n\t\t\t\t\t// .then(function(data,status){\r\n\t\t\t\t\t// \tconsole.log(dpsURL+url+\"?callback=JSON_CALLBACK\");\r\n\t\t\t\t\t// \tconsole.log(data)\r\n\t\t\t\t\t// \tconsole.log(status)\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// return $http.jsonp(dpsURL+url+\"?callback=JSON_CALLBACK\",config)\r\n\t\t\t\t\treturn $http.get(dpsURL+url,config)\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tpost : function (url,config){\r\n\t\t\t\t\treturn $http.post(dpsURL+url, config)\r\n\t\t\t\t},\r\n\r\n\t\t\t\tdownloadJSON: function(data,file){\r\n\t\t\t\t var savedObject = new Blob([JSON.stringify(data)],{type:\"application/json;charset=utf-8\"})// { type: 'text/plain;charset=utf-8' });\r\n    \t\t\t FileSaver.saveAs(savedObject,file);\r\n\t\t\t\t},\r\n\t\t\t\tsaveAttachement: function(data,mime,file){\r\n\t\t\t\t var savedObject = new Blob([data],{type:mime})// { type: 'text/plain;charset=utf-8' });\r\n    \t\t\t FileSaver.saveAs(savedObject,file);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tgetUrl: function(){\r\n\t\t\t\t\treturn dpsURL\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n});\r\n  \r\n"],"sourceRoot":"/source/"}